\hypertarget{sample__threads_8cpp}{}\doxysection{experiment/\+CPU/sample\+\_\+threads.cpp File Reference}
\label{sample__threads_8cpp}\index{experiment/CPU/sample\_threads.cpp@{experiment/CPU/sample\_threads.cpp}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$pthread.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include $<$omp.\+h$>$}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void $\ast$ \mbox{\hyperlink{sample__threads_8cpp_a57bacef1289459f25223f6ef209fe221}{do\+\_\+loop}} (void $\ast$data)
\item 
int \mbox{\hyperlink{sample__threads_8cpp_a58e8be2db2660128e4e6456a9c981fb5}{run}} ()
\item 
int \mbox{\hyperlink{sample__threads_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}} ()
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{sample__threads_8cpp_a57bacef1289459f25223f6ef209fe221}\label{sample__threads_8cpp_a57bacef1289459f25223f6ef209fe221}} 
\index{sample\_threads.cpp@{sample\_threads.cpp}!do\_loop@{do\_loop}}
\index{do\_loop@{do\_loop}!sample\_threads.cpp@{sample\_threads.cpp}}
\doxysubsubsection{\texorpdfstring{do\_loop()}{do\_loop()}}
{\footnotesize\ttfamily void $\ast$ do\+\_\+loop (\begin{DoxyParamCaption}\item[{void $\ast$}]{data }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sample__threads_8cpp_source_l00008}{8}} of file \mbox{\hyperlink{sample__threads_8cpp_source}{sample\+\_\+threads.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00008                           \{}
\DoxyCodeLine{00009     \textcolor{keywordtype}{int} i;          \textcolor{comment}{/* counter, to print numbers */}}
\DoxyCodeLine{00010     \textcolor{keywordtype}{int} j;          \textcolor{comment}{/* counter, for delay        */}}
\DoxyCodeLine{00011     \textcolor{keywordtype}{int} me = *((\textcolor{keywordtype}{int}*)data);     \textcolor{comment}{/* thread identifying number */}}
\DoxyCodeLine{00012 }
\DoxyCodeLine{00013     \textcolor{keywordflow}{for} (i=0; i<10; i++) \{}
\DoxyCodeLine{00014     \textcolor{keywordflow}{for} (j=0; j<500000; j++) \textcolor{comment}{/* delay loop */}}
\DoxyCodeLine{00015         ;}
\DoxyCodeLine{00016         printf(\textcolor{stringliteral}{"{}'\%d' -\/ Got '\%d'\(\backslash\)n"{}}, me, i);}
\DoxyCodeLine{00017     \}}
\DoxyCodeLine{00018 }
\DoxyCodeLine{00019     \textcolor{comment}{/* terminate the thread */}}
\DoxyCodeLine{00020     pthread\_exit(NULL);}
\DoxyCodeLine{00021 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{sample__threads_8cpp_a58e8be2db2660128e4e6456a9c981fb5}{run()}}.

\mbox{\Hypertarget{sample__threads_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}\label{sample__threads_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}} 
\index{sample\_threads.cpp@{sample\_threads.cpp}!main@{main}}
\index{main@{main}!sample\_threads.cpp@{sample\_threads.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sample__threads_8cpp_source_l00043}{43}} of file \mbox{\hyperlink{sample__threads_8cpp_source}{sample\+\_\+threads.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00043            \{}
\DoxyCodeLine{00044     \textcolor{comment}{//clock\_t t;}}
\DoxyCodeLine{00045     \textcolor{comment}{//t = clock();}}
\DoxyCodeLine{00046     \textcolor{keywordtype}{double} d\_time = omp\_get\_wtime();}
\DoxyCodeLine{00047     \mbox{\hyperlink{sample__threads_8cpp_a58e8be2db2660128e4e6456a9c981fb5}{run}}();}
\DoxyCodeLine{00048     d\_time = omp\_get\_wtime() -\/ d\_time;}
\DoxyCodeLine{00049     printf(\textcolor{stringliteral}{"{}Time taken: \%f second \(\backslash\)n"{}}, d\_time);}
\DoxyCodeLine{00050 }
\DoxyCodeLine{00051     \textcolor{comment}{// end time}}
\DoxyCodeLine{00052     \textcolor{comment}{//t = clock() -\/ t;}}
\DoxyCodeLine{00053     \textcolor{comment}{// return time in seconds}}
\DoxyCodeLine{00054     \textcolor{comment}{//double final\_time = ((double)t) / CLOCKS\_PER\_SEC;}}
\DoxyCodeLine{00055     \textcolor{comment}{//printf("{}Decoded in: \%f seconds\(\backslash\)n"{}, final\_time);}}
\DoxyCodeLine{00056 }
\DoxyCodeLine{00057     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00058 \}}

\end{DoxyCode}


References \mbox{\hyperlink{sample__threads_8cpp_a58e8be2db2660128e4e6456a9c981fb5}{run()}}.

\mbox{\Hypertarget{sample__threads_8cpp_a58e8be2db2660128e4e6456a9c981fb5}\label{sample__threads_8cpp_a58e8be2db2660128e4e6456a9c981fb5}} 
\index{sample\_threads.cpp@{sample\_threads.cpp}!run@{run}}
\index{run@{run}!sample\_threads.cpp@{sample\_threads.cpp}}
\doxysubsubsection{\texorpdfstring{run()}{run()}}
{\footnotesize\ttfamily int run (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sample__threads_8cpp_source_l00024}{24}} of file \mbox{\hyperlink{sample__threads_8cpp_source}{sample\+\_\+threads.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00024           \{}
\DoxyCodeLine{00025     \textcolor{comment}{// time the function}}
\DoxyCodeLine{00026     clock\_t t;}
\DoxyCodeLine{00027     t = clock();}
\DoxyCodeLine{00028 }
\DoxyCodeLine{00029     \textcolor{keywordtype}{int}        thr\_id;         \textcolor{comment}{/* thread ID for the newly created thread */}}
\DoxyCodeLine{00030     pthread\_t  p\_thread;       \textcolor{comment}{/* thread's structure                     */}}
\DoxyCodeLine{00031     \textcolor{keywordtype}{int}        a         = 1;  \textcolor{comment}{/* thread 1 identifying number            */}}
\DoxyCodeLine{00032     \textcolor{keywordtype}{int}        \mbox{\hyperlink{namespacePython_1_1examples_1_1arithmetic_a2e87815af2636fcd423f3e6568e74fd8}{b}}         = 2;  \textcolor{comment}{/* thread 2 identifying number            */}}
\DoxyCodeLine{00033 }
\DoxyCodeLine{00034     \textcolor{comment}{/* create a new thread that will execute 'do\_loop()' */}}
\DoxyCodeLine{00035     thr\_id = pthread\_create(\&p\_thread, NULL, \mbox{\hyperlink{sample__threads_8cpp_a57bacef1289459f25223f6ef209fe221}{do\_loop}}, (\textcolor{keywordtype}{void}*)\&a);}
\DoxyCodeLine{00036     \textcolor{comment}{/* run 'do\_loop()' in the main thread as well */}}
\DoxyCodeLine{00037     \mbox{\hyperlink{sample__threads_8cpp_a57bacef1289459f25223f6ef209fe221}{do\_loop}}((\textcolor{keywordtype}{void}*)\&\mbox{\hyperlink{namespacePython_1_1examples_1_1arithmetic_a2e87815af2636fcd423f3e6568e74fd8}{b}});}
\DoxyCodeLine{00038 }
\DoxyCodeLine{00039     \textcolor{comment}{/* NOT REACHED */}}
\DoxyCodeLine{00040     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00041 \}}

\end{DoxyCode}


References \mbox{\hyperlink{namespacePython_1_1examples_1_1arithmetic_a2e87815af2636fcd423f3e6568e74fd8}{Python.\+examples.\+arithmetic\+::b}}, and \mbox{\hyperlink{sample__threads_8cpp_a57bacef1289459f25223f6ef209fe221}{do\+\_\+loop()}}.



Referenced by \mbox{\hyperlink{sample__threads_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{main()}}.

